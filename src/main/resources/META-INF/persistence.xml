<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd"
             version="2.1">
    <persistence-unit name="org.gov.ea.datareturns.jpa">
    	<provider>org.hibernate.ejb.HibernatePersistence</provider>
<!--     	<jta-data-source>java:/defaultDS</jta-data-source> -->
		<!-- Annotated entity classes -->
        <class>uk.gov.ea.datareturns.jpa.entities.UniqueIdentifier</class>
        <class>uk.gov.ea.datareturns.jpa.entities.MethodOrStandard</class>
        <class>uk.gov.ea.datareturns.jpa.entities.MonitoringPeriod</class>
        <class>uk.gov.ea.datareturns.jpa.entities.Parameter</class>
        <class>uk.gov.ea.datareturns.jpa.entities.Qualifier</class>
        <class>uk.gov.ea.datareturns.jpa.entities.ReferencePeriod</class>
        <class>uk.gov.ea.datareturns.jpa.entities.ReturnType</class>
        <class>uk.gov.ea.datareturns.jpa.entities.Unit</class>
		<properties>
			<!-- Default persistence properties (connection details will be injected from the application configuration) -->
 			<property name="hibernate.show_sql" value="false"/>
			<!-- Dont mess with the schema - we use liquibase for this -->
			<property name="hibernate.hbm2ddl.auto" value="validate" />
			
			<!-- 
				c3p0 connection pool settings
				see http://www.mchange.com/projects/c3p0
			-->
		    <property name="c3p0.minPoolSize" value="3"/>
		    <property name="c3p0.maxPoolSize" value="15"/>
		    <!-- Seconds a Connection can remain pooled but unused before being discarded - zero means they never expire -->
		    <property name="c3p0.maxIdleTime" value="0"/>
		    <!-- The size of c3p0's global PreparedStatement cache.  TODO Investigate the effect of enabling this. -->
		    <property name="c3p0.maxStatements" value="0"/>
		    <property name="c3p0.maxStatementsPerConnection" value="0"/>
		    <!-- Disable c3p0 connection testing as we use a JDBC4 compatible driver which can handle this itself -->
		    <property name="c3p0.idleConnectionTestPeriod" value="0"/>
		</properties>
    </persistence-unit>
</persistence>